<?php

use ntentan\Application;
use ntentan\ContainerBuilder;

define('APP_HOME', __DIR__ . '/../');

/**
 * Setup our custom namespace and initialize the autoloader to it
 */
$namespace = '{{namespace}}';
$loader = require "vendor/autoload.php";
$loader->addPsr4("$namespace\\", __DIR__ . '/../src/');

/**
 * Allow includes from the lower directly
 */
set_include_path(get_include_path() . PATH_SEPARATOR . "..");

/**
 * Get an instance of the DI container
 */
$container = (new ContainerBuilder($namespace))->getContainer();

/**
 * Execute the application
 */
$container->get(Application::class)->execute();
